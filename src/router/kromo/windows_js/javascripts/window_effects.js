Effect.ResizeWindow=Class.create();Object.extend(Object.extend(Effect.ResizeWindow.prototype,Effect.Base.prototype),{initialize:function(g,f,e,d,c){this.window=g;this.window.resizing=true;var b=g.getSize();this.initWidth=parseFloat(b.width);this.initHeight=parseFloat(b.height);var a=g.getLocation();this.initTop=parseFloat(a.top);this.initLeft=parseFloat(a.left);this.width=d!=null?parseFloat(d):this.initWidth;this.height=c!=null?parseFloat(c):this.initHeight;this.top=f!=null?parseFloat(f):this.initTop;this.left=e!=null?parseFloat(e):this.initLeft;this.dx=this.left-this.initLeft;this.dy=this.top-this.initTop;this.dw=this.width-this.initWidth;this.dh=this.height-this.initHeight;this.r2=$(this.window.getId()+"_row2");this.content=$(this.window.getId()+"_content");this.contentOverflow=this.content.getStyle("overflow")||"auto";this.content.setStyle({overflow:"hidden"});if(this.window.options.wiredDrag){this.window.currentDrag=g._createWiredElement();this.window.currentDrag.show();this.window.element.hide()}this.start(arguments[5])},update:function(b){var a=Math.floor(this.initWidth+this.dw*b);var e=Math.floor(this.initHeight+this.dh*b);var d=Math.floor(this.initTop+this.dy*b);var c=Math.floor(this.initLeft+this.dx*b);if(window.ie){if(Math.floor(e)==0){this.r2.hide()}else{if(Math.floor(e)>1){this.r2.show()}}}this.r2.setStyle({height:e});this.window.setSize(a,e);this.window.setLocation(d,c)},finish:function(a){if(this.window.options.wiredDrag){this.window._hideWiredElement();this.window.element.show()}this.window.setSize(this.width,this.height);this.window.setLocation(this.top,this.left);this.r2.setStyle({height:null});this.content.setStyle({overflow:this.contentOverflow});this.window.resizing=false}});Effect.ModalSlideDown=function(a){var c=WindowUtilities.getWindowScroll();var b=a.getStyle("height");a.setStyle({top:-(parseFloat(b)-c.top)+"px"});a.show();return new Effect.Move(a,Object.extend({x:0,y:parseFloat(b)},arguments[1]||{}))};Effect.ModalSlideUp=function(b){var a=b.getStyle("height");return new Effect.Move(b,Object.extend({x:0,y:-parseFloat(a)},arguments[1]||{}))};PopupEffect=Class.create();PopupEffect.prototype={initialize:function(a){this.html=$(a);this.options=Object.extend({className:"popup_effect",duration:0.4},arguments[1]||{})},show:function(f,e){var d=Position.cumulativeOffset(this.html);var c=this.html.getDimensions();var b=f.win.getBounds();this.window=f.win;if(!this.div){this.div=document.createElement("div");this.div.className=this.options.className;this.div.style.height=c.height+"px";this.div.style.width=c.width+"px";this.div.style.top=d[1]+"px";this.div.style.left=d[0]+"px";this.div.style.position="absolute";document.body.appendChild(this.div)}if(this.options.fromOpacity){this.div.setStyle({opacity:this.options.fromOpacity})}this.div.show();var a="top:"+b.top+";left:"+b.left+";width:"+b.width+";height:"+b.height;if(this.options.toOpacity){a+=";opacity:"+this.options.toOpacity}new Effect.Morph(this.div,{style:a,duration:this.options.duration,afterFinish:this._showWindow.bind(this)})},hide:function(f,e){var d=Position.cumulativeOffset(this.html);var c=this.html.getDimensions();this.window.visible=true;var b=this.window.getBounds();this.window.visible=false;this.window.element.hide();this.div.style.height=b.height;this.div.style.width=b.width;this.div.style.top=b.top;this.div.style.left=b.left;if(this.options.toOpacity){this.div.setStyle({opacity:this.options.toOpacity})}this.div.show();var a="top:"+d[1]+"px;left:"+d[0]+"px;width:"+c.width+"px;height:"+c.height+"px";if(this.options.fromOpacity){a+=";opacity:"+this.options.fromOpacity}new Effect.Morph(this.div,{style:a,duration:this.options.duration,afterFinish:this._hideDiv.bind(this)})},_showWindow:function(){this.div.hide();this.window.element.show()},_hideDiv:function(){this.div.hide()}};