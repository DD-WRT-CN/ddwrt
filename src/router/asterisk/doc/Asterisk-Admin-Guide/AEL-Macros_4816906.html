<!DOCTYPE html>
<html>
    <head>
        <title>Asterisk Project : AEL Macros</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Asterisk Project</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home_4259930.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Configuration_4260139.html">Configuration</a></span>
                            </li>
                                                    <li>
                                <span><a href="Dialplan_4817412.html">Dialplan</a></span>
                            </li>
                                                    <li>
                                <span><a href="4620445.html">Asterisk Extension Language (AEL)</a></span>
                            </li>
                                                    <li>
                                <span><a href="AEL-Example-Usages_4620476.html">AEL Example Usages</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Asterisk Project : AEL Macros
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
    
            Created by <span class='author'> Malcolm Davenport</span>, last modified by <span class='editor'> Alexander Gonchiy</span> on May 07, 2014
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>A macro is defined in its own block like this. The arguments to the macro are specified with the name of the macro. They are then referred to by that same name. A catch block can be specified to catch special extensions.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">macro std-exten( ext , dev ) {
    Dial(${dev}/${ext},20);
    switch(${DIALSTATUS}) {
        case BUSY:
            Voicemail(${ext},b);
            break;
        default:
            Voicemail(${ext},u); 
    } 
    catch a { 
        VoiceMailMain(${ext});
        return; 
    }
}
</pre>
</div></div><p>A macro is then called by preceding the macro name with an ampersand. Empty arguments can be passed simply with nothing between commas.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">context example { 
    _5XXX =&gt; &amp;std-exten(${EXTEN}, &quot;IAX2&quot;);
    _6XXX =&gt; &amp;std-exten(, &quot;IAX2&quot;);
    _7XXX =&gt; &amp;std-exten(${EXTEN},);
    _8XXX =&gt; &amp;std-exten(,);
}
</pre>
</div></div>    <div class="aui-message warning shadowed information-macro">
                    <p class="title">Dialplan Macros Channel Variables</p>
                            <span class="aui-icon icon-warning">Icon</span>
                <div class="message-content">
                            <p>Due to AEL macro reimplementation the following variables will <strong>not</strong> be set:</p><ul><li>${MACRO_EXTEN}</li><li>${MACRO_CONTEXT}</li><li>${MACRO_PRIORITY}</li><li>${MACRO_OFFSET}</li></ul>
                    </div>
    </div>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Feb 21, 2020 09:37</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
