To profile the SOC:

1) The first step is to acquire PC samples by periodically forcing an ejtag
   processor break. With ejtag parallel port translator board connect to 
   your host (as root):

     $ profsoc <num_pc_samples> <usec_sample_period> > <prof_pc_samples>

2) Next, the pc samples in the file <prof_pc_samples> must be related to
   symbols in the kernel. For this we use a sorted file with lines of the form:

     virtual-address symbol_name

   If you have everything of interest built into the kernel (i.e., not modules)
   you can use the System.map file generated by your kernel build (should be
   in the $KERNELPATH directory). This file must be processed to remove the
   center symbol "type" character.

     $ map2prof.pl < System.map > <input_sym_table>

   You can also add in sorted /proc/ksyms from SoC if want modules included.
   To do this obtain /proc/ksysms from the SoC by either nfs mounting a drive
   on your host or capturing the output in minicom and pasting. The module
   addresses start at 0xc0000000, so you can sort then append to <input_sym_table>
   from above.

3) Process the captured pc trace to obtain a histogram:

     $ hist.pl <input_sym_table> <prof_pc_samples>

